"use strict";(self.webpackChunkkatscan=self.webpackChunkkatscan||[]).push([[730],{349:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(5043),s=a(3519),i=a(1072),l=a(8602),r=a(3722),c=a(108),o=a(7761),h=a(6150),d=a(347),m=a(3202),u=a(7812),x=a(6502),p=a(4399),g=a(579);const j=[{value:"day",label:"Last 24 Hours"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"},{value:"all",label:"All Time"}],S=()=>{const[e,t]=(0,n.useState)([]),[a,S]=(0,n.useState)(!1),[f,k]=(0,n.useState)("week"),[v,y]=(0,n.useState)(0),w=(0,n.useCallback)((async()=>{if(!f)return;S(!0);const e=(e=>{const t=new Date;switch(e){case"day":return new Date(t.setHours(0,0,0,0));case"week":default:return new Date(t.setDate(t.getDate()-7));case"month":return new Date(t.setMonth(t.getMonth()-1));case"year":return new Date(t.setFullYear(t.getFullYear()-1));case"all":return new Date("2024-01-01T00:00:00Z")}})(f),a=new Date;try{const n=await(0,u.w$)({method:"GET",url:"".concat(p.$Q,"/minting/mint-totals"),params:{startDate:e.toISOString(),endDate:a.toISOString()}});if(!n||!Array.isArray(n))throw new Error("Invalid response format");if(n.length>0){const e=n.sort(((e,t)=>t.mintTotal-e.mintTotal)).slice(0,100).map((e=>({name:e.tick,size:Math.log(e.mintTotal+1),actualSize:e.mintTotal})));t([{name:"tokens",children:e}]),y(n.reduce(((e,t)=>e+t.mintTotal),0))}else t([{name:"tokens",children:[{name:"No data",size:1,actualSize:0}]}]),y(0)}catch(n){console.error("Error fetching mint data:",n),(0,x.I)("error","Failed to fetch mint data. Please try again later."),t([{name:"tokens",children:[{name:"Error",size:1,actualSize:0}]}]),y(0)}S(!1)}),[f]);(0,n.useEffect)((()=>{f&&w()}),[f,w]);const K=e=>{let{active:t,payload:a}=e;if(t&&a&&a.length){const e=a[0].payload,t=(e.actualSize/v*100).toFixed(2);return(0,g.jsxs)("div",{className:"custom-tooltip",children:[(0,g.jsx)("p",{children:(0,g.jsx)("strong",{children:(0,m.x)(e.name)})}),(0,g.jsxs)("p",{children:["Mints: ",e.actualSize.toLocaleString()]}),(0,g.jsxs)("p",{children:["Percentage: ",t,"%"]})]})}return null},N=e=>{let{root:t,x:a,y:n,width:s,height:i,index:l,name:r}=e;const c=Math.min(s/6,i/4,16),o=r&&r.length>6?"".concat(r.slice(0,5),"..."):r;let h="hsl(0, 0%, 50%)";if(t&&t.children&&t.children.length>0){const e=Math.min(Math.max(l,0),t.children.length-1);h="hsl(".concat(120*(1-e/t.children.length),", 70%, 50%)")}return(0,g.jsxs)("g",{children:[(0,g.jsx)("rect",{x:a,y:n,width:s,height:i,style:{fill:h,stroke:"#fff",strokeWidth:2,strokeOpacity:1,rx:4,ry:4}}),s>30&&i>30&&o&&(0,g.jsx)("text",{x:a+s/2,y:n+i/2,textAnchor:"middle",fill:"#fff",fontSize:c,children:o})]})},A=()=>(0,g.jsxs)("div",{className:"custom-legend",children:[(0,g.jsxs)("div",{className:"legend-item",children:[(0,g.jsx)("span",{className:"legend-color",style:{backgroundColor:"hsl(120, 70%, 50%)"}}),(0,g.jsx)("span",{children:"High mint activity"})]}),(0,g.jsxs)("div",{className:"legend-item",children:[(0,g.jsx)("span",{className:"legend-color",style:{backgroundColor:"hsl(60, 70%, 50%)"}}),(0,g.jsx)("span",{children:"Medium mint activity"})]}),(0,g.jsxs)("div",{className:"legend-item",children:[(0,g.jsx)("span",{className:"legend-color",style:{backgroundColor:"hsl(0, 70%, 50%)"}}),(0,g.jsx)("span",{children:"Low mint activity"})]})]});return(0,g.jsx)(u.YW,{header:"Token Mint Heatmap",children:(0,g.jsxs)(s.A,{fluid:!0,className:"mint-heatmap",children:[(0,g.jsx)(u.kW,{title:"Mint Heatmap",description:"Visualize KRC-20 token minting activity on the Kaspa blockchain with an interactive heatmap.",keywords:"KRC-20, Kaspa, mint heatmap, token activity, visualization"}),(0,g.jsx)(u.Zn,{data:{"@context":"https://schema.org","@type":"WebApplication",name:"KatScan Mint Heatmap",description:"Visualize KRC-20 token minting activity on the Kaspa blockchain with an interactive heatmap.",url:"https://katscan.xyz/mint-heatmap"}}),(0,g.jsxs)(i.A,{className:"mb-3",children:[(0,g.jsx)(l.A,{md:4,children:(0,g.jsxs)(r.A.Group,{children:[(0,g.jsx)(r.A.Label,{children:"Timeframe"}),(0,g.jsxs)(r.A.Control,{as:"select",value:f,onChange:e=>k(e.target.value),children:[(0,g.jsx)("option",{value:"",children:"Select a timeframe"}),j.map((e=>(0,g.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,g.jsx)(l.A,{md:8,children:v>0&&(0,g.jsxs)("p",{className:"total-mints",children:["Total Mints: ",v.toLocaleString()]})})]}),!f&&(0,g.jsx)("p",{children:"Please select a timeframe to view the mint heatmap."}),a&&(0,g.jsx)(u.kt,{useFlexHeight:!0}),f&&e.length>0&&(0,g.jsx)("div",{className:"chart-container",children:(0,g.jsx)(c.u,{width:"100%",height:"100%",children:(0,g.jsxs)(o.V,{data:e,dataKey:"size",aspectRatio:4/3,stroke:"#fff",content:(0,g.jsx)(N,{}),animationDuration:500,animationEasing:"ease-in-out",children:[(0,g.jsx)(h.m,{content:(0,g.jsx)(K,{})}),(0,g.jsx)(d.s,{content:(0,g.jsx)(A,{})})]})})}),f&&0===e.length&&(0,g.jsx)("p",{children:"No mint data available for the selected timeframe."})]})})}},3202:(e,t,a)=>{a.d(t,{x:()=>n});const n=e=>({NIGGA:"N***A",NIGGAS:"N****S",NIGGER:"N****R",RETARD:"R****D",FAG:"F**",FAGS:"F**S",FAGGOT:"F****T",DYKE:"D**E",DYKES:"D**ES",TRANNY:"T****Y",SPIC:"S**C",SPICS:"S**CS",KIKE:"K**E",KIKES:"K***S",CHINK:"C***K",CHINKS:"C***KS",GOOK:"G**K",GOOKS:"G**KS",WOP:"W**",WOPS:"W**S",TARD:"T**D"}[e]||e)}}]);
//# sourceMappingURL=730.8c7c9dd5.chunk.js.map