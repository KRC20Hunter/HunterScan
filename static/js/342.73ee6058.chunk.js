"use strict";(self.webpackChunkkatscan=self.webpackChunkkatscan||[]).push([[342],{628:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(5043),a=r(3536),o=r(3156),n=r(7812),l=r(579);const c=e=>{let{data:t,hasSearch:r,onSelect:c,placeholder:d}=e;const i=(0,s.useRef)(null),[h,p]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1),m=(0,s.useRef)(null),j=(0,a.debounce)((e=>p(e)),10),g=e=>{var t;e.stopPropagation(),e.preventDefault(),u(!1),null===(t=m.current)||void 0===t||t.close()},k=(0,s.useMemo)((()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",className:"search-input",placeholder:d,onChange:r?e=>j(e.currentTarget.value):void 0,value:h}),(0,l.jsxs)("div",{className:"search-icon-wrapper",children:[""!==h&&(0,l.jsx)("div",{className:"search-reset-wrapper",onClick:()=>p(""),children:(0,l.jsx)(o.GWt,{size:15})}),(0,l.jsx)("div",{className:"search-arrow-wrapper",onClick:x?g:void 0,children:(0,l.jsx)(o.Vr3,{className:"search-arrow",size:15})})]})]})),[x,j,r,d,h]),b=(0,s.useMemo)((()=>r&&""!==h?t.filter((e=>e.label.toUpperCase().includes(h.toUpperCase()))):t),[t,r,h]),A=(0,s.useCallback)((()=>u(!0)),[]);return(0,l.jsx)("div",{ref:i,className:"custom-search-select",children:(0,l.jsxs)(n.bs,{title:k,stayOpen:!0,fitHeader:!0,onOpen:A,className:"select-custom-dropdown",ref:m,children:[b.map(((e,t)=>(0,l.jsx)(n.OW,{onClick:t=>((e,t)=>{var r;e.preventDefault(),e.stopPropagation(),p(t.label),c(t),null===(r=m.current)||void 0===r||r.close(),console.log(t)})(t,e),children:e.label},t))),0===b.length&&(0,l.jsx)("div",{className:"no-data",children:"No Data"})]})})}},6342:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var s=r(9379),a=r(5043),o=r(1072),n=r(8602),l=r(8628),c=r(4063),d=r(9620),i=r(3722),h=r(6058),p=r(461),x=r(9308),u=r(184),m=r(3202),j=r(7812),g=r(6502),k=r(628),b=r(591),A=r(4399),S=r(579);p.t1.register(p.PP,p.kc,p.E8,p.hE,p.m_,p.s$,p.OJ);const v="rgba(75, 192, 192, 0.6)",y="rgba(255, 99, 132, 0.6)",f="rgba(255, 99, 132, 0.6)",C="rgba(255, 206, 86, 0.6)",N="rgba(75, 192, 192, 0.6)",P=()=>{const[e,t]=(0,a.useState)([null,null]),[r,p]=(0,a.useState)([]),[P,w]=(0,a.useState)(!1),{data:H,loading:T,error:F}=(0,b.s)({url:"/token/tickers",defaultValue:A.tR}),K=(0,a.useRef)(null),M=(0,a.useRef)(null),R=(0,a.useCallback)(((e,t)=>void 0===e||void 0===t?(console.warn("calculateValue received undefined value or decimals"),0):parseFloat(e.toString())/Math.pow(10,parseInt(t.toString()))),[]),E=(0,a.useCallback)((e=>{if(!e.holder||!Array.isArray(e.holder)||0===e.holder.length)return console.warn("No holder data for token: ".concat(e.tick)),{top10HoldersPercentage:0,top50HoldersPercentage:0,totalHolders:parseInt(e.holderTotal)||0,hasHolderData:!1};const t=R(e.minted,e.dec),r=[...e.holder].sort(((e,t)=>parseInt(t.amount.toString())-parseInt(e.amount.toString())));return{top10HoldersPercentage:r.slice(0,10).reduce(((t,r)=>t+R(r.amount,e.dec)),0)/t*100,top50HoldersPercentage:r.slice(0,50).reduce(((t,r)=>t+R(r.amount,e.dec)),0)/t*100,totalHolders:parseInt(e.holderTotal)||r.length,hasHolderData:!0}}),[R]);(0,a.useEffect)((()=>{if(!e[0]||!e[1])return;(async()=>{w(!0);try{const t=await Promise.all(e.map((e=>(0,x.mJ)(e.value))));console.log("Raw token details:",t);const r=t.map((e=>(0,s.A)((0,s.A)({},e.result),E(e.result))));console.log("Processed token details:",r),p(r)}catch(t){console.error("Error fetching token details:",t),(0,g.I)("error","Failed to fetch token details: ".concat(t.message)),p([])}w(!1)})()}),[e,E]);const G=(e,r)=>{t((t=>{const s=[...t];return s[r]=e,s}))};(0,a.useEffect)((()=>{const e=K.current,t=M.current;return()=>{e&&e.destroy(),t&&t.destroy()}}),[]);const I=(0,a.useMemo)((()=>H.map((e=>({value:e,label:(0,m.x)(e)})))),[H]);return(0,S.jsx)(j.YW,{header:"Compare KRC20 Tokens",children:(0,S.jsxs)("div",{className:"token-comparison",children:[(0,S.jsx)(j.kW,{title:"Token Comparison",description:"Compare KRC-20 tokens on the Kaspa blockchain side by side, analyzing key metrics and holder distributions.",keywords:"KRC-20, Kaspa, token comparison, cryptocurrency analysis"}),(0,S.jsx)(j.Zn,{data:{"@context":"https://schema.org","@type":"WebApplication",name:"KatScan Token Comparison",description:"Compare KRC-20 tokens on the Kaspa blockchain side by side, analyzing key metrics and holder distributions.",url:"https://katscan.xyz/compare"}}),(0,S.jsxs)(o.A,{className:"mb-4",children:[(0,S.jsx)(n.A,{md:6,children:(0,S.jsxs)(i.A.Group,{children:[(0,S.jsx)(i.A.Label,{children:"Select Token 1"}),(0,S.jsx)(k.A,{placeholder:"Search for a token...",data:I,hasSearch:!0,onSelect:e=>G(e,0)})]})}),(0,S.jsx)(n.A,{md:6,children:(0,S.jsxs)(i.A.Group,{children:[(0,S.jsx)(i.A.Label,{children:"Select Token 2"}),(0,S.jsx)(k.A,{placeholder:"Search for a token...",data:I,hasSearch:!0,onSelect:e=>G(e,1)})]})})]}),T&&(0,S.jsx)(j.kt,{useFlexHeight:!0}),!P&&!F&&r[0]&&r[1]&&(()=>{if(console.log("Rendering comparison, tokenDetails:",r),!r[0]||!r[1])return console.log("One or both tokens are missing"),(0,S.jsx)("p",{children:"Please select two tokens to compare."});const[e,t]=r,s=(e,t)=>void 0===e||void 0===t?0:parseFloat(e)/Math.pow(10,parseInt(t)),a=e=>void 0===e||isNaN(e)?(console.warn("formatNumber received invalid number:",e),"N/A"):e.toLocaleString(),i={labels:["Max Supply","Minted","Pre-Minted"],datasets:[{label:(0,m.x)(e.tick),data:[s(e.max,e.dec),s(e.minted,e.dec),s(e.pre,e.dec)],backgroundColor:v},{label:(0,m.x)(t.tick),data:[s(t.max,t.dec),s(t.minted,t.dec),s(t.pre,t.dec)],backgroundColor:y}]},p={responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{callback:function(e){return(t=e)>=1e12?(t/1e12).toFixed(3)+" T":t>=1e9?(t/1e9).toFixed(3)+" B":t>=1e6?(t/1e6).toFixed(3)+" M":t>=1e3?(t/1e3).toFixed(3)+" K":t.toLocaleString();var t},maxTicksLimit:8}}},plugins:{legend:{display:!0,position:"bottom"}}},x={labels:[(0,m.x)(e.tick),(0,m.x)(t.tick)],datasets:[{label:"Top 10 Holders",data:[e.top10HoldersPercentage||0,t.top10HoldersPercentage||0],backgroundColor:f},{label:"Top 11-50 Holders",data:[(e.top50HoldersPercentage||0)-(e.top10HoldersPercentage||0),(t.top50HoldersPercentage||0)-(t.top10HoldersPercentage||0)],backgroundColor:C},{label:"Other Holders",data:[100-(e.top50HoldersPercentage||0),100-(t.top50HoldersPercentage||0)],backgroundColor:N}]},j={plugins:{tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(e.parsed.y/100)),t}}},legend:{display:!0,position:"bottom"}},responsive:!0,scales:{x:{stacked:!0,ticks:{font:{weight:"bold"}}},y:{stacked:!0,ticks:{callback:function(e){return e+"%"}}}}},g=e=>{const t=s(e.minted,e.dec),r=s(e.max,e.dec);return r>0?t/r*100:0},k=e=>s(e.pre,e.dec)>0?"Pre-Mint":"Fair Mint";return(0,S.jsxs)(o.A,{children:[(0,S.jsx)(n.A,{lg:6,className:"mb-4",children:(0,S.jsx)(l.A,{children:(0,S.jsxs)(l.A.Body,{children:[(0,S.jsxs)(l.A.Title,{children:[(0,S.jsx)(u.v$b,{})," Supply Comparison"]}),(0,S.jsx)(h.yP,{data:i,options:p,ref:K})]})})}),(0,S.jsx)(n.A,{lg:6,className:"mb-4",children:(0,S.jsx)(l.A,{children:(0,S.jsxs)(l.A.Body,{children:[(0,S.jsxs)(l.A.Title,{children:[(0,S.jsx)(u.YXz,{})," Holder Distribution"]}),(0,S.jsx)(h.yP,{data:x,options:j,ref:M})]})})}),(0,S.jsx)(n.A,{md:12,className:"mb-4 minting-progress-card",children:(0,S.jsx)(l.A,{children:(0,S.jsxs)(l.A.Body,{children:[(0,S.jsxs)(l.A.Title,{children:[(0,S.jsx)(u.qvi,{})," Minting Progress"]}),(0,S.jsxs)("div",{className:"progress-wrapper mb-3",children:[(0,S.jsxs)("div",{className:"progress-label",children:[(0,m.x)(e.tick)," ",(0,S.jsx)(c.A,{bg:"Fair Mint"===k(e)?"success":"warning",children:k(e)})]}),(0,S.jsx)(d.A,{now:g(e),label:"".concat(g(e).toFixed(2),"%"),variant:"info"})]}),(0,S.jsxs)("div",{className:"progress-wrapper",children:[(0,S.jsxs)("div",{className:"progress-label",children:[(0,m.x)(t.tick)," ",(0,S.jsx)(c.A,{bg:"Fair Mint"===k(t)?"success":"warning",children:k(t)})]}),(0,S.jsx)(d.A,{now:g(t),label:"".concat(g(t).toFixed(2),"%"),variant:"success"})]})]})})}),(0,S.jsx)(n.A,{md:12,children:(0,S.jsx)(l.A,{children:(0,S.jsxs)(l.A.Body,{children:[(0,S.jsx)(l.A.Title,{children:"Token Details"}),(0,S.jsxs)("table",{className:"table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Metric"}),(0,S.jsx)("th",{children:(0,m.x)(e.tick)}),(0,S.jsx)("th",{children:(0,m.x)(t.tick)})]})}),(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Max Supply"}),(0,S.jsx)("td",{children:a(s(e.max,e.dec))}),(0,S.jsx)("td",{children:a(s(t.max,t.dec))})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Minted"}),(0,S.jsx)("td",{children:a(s(e.minted,e.dec))}),(0,S.jsx)("td",{children:a(s(t.minted,t.dec))})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Pre-Minted"}),(0,S.jsx)("td",{children:a(s(e.pre,e.dec))}),(0,S.jsx)("td",{children:a(s(t.pre,t.dec))})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Total Holders"}),(0,S.jsx)("td",{children:a(e.holderTotal)}),(0,S.jsx)("td",{children:a(t.holderTotal)})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Top 10 Holders %"}),(0,S.jsxs)("td",{children:[(e.top10HoldersPercentage||0).toFixed(2),"%"]}),(0,S.jsxs)("td",{children:[(t.top10HoldersPercentage||0).toFixed(2),"%"]})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"Top 50 Holders %"}),(0,S.jsxs)("td",{children:[(e.top50HoldersPercentage||0).toFixed(2),"%"]}),(0,S.jsxs)("td",{children:[(t.top50HoldersPercentage||0).toFixed(2),"%"]})]})]})]})]})})})]})})()]})})}},9308:(e,t,r)=>{r.d(t,{CV:()=>l,IT:()=>c,mJ:()=>n});var s=r(7812),a=r(4399);const o="https://api.kasplex.org/v1",n=async e=>{try{return await(0,s.M$)("".concat(a.$Q,"/token/detail/").concat(e))}catch(t){throw console.error("Error fetching token details:",t),t}},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a={tick:e,limit:t.toString()};return r&&(a.next=r),(0,s.w$)({method:"GET",url:"".concat(o,"/krc20/oplist"),params:a})}catch(a){throw console.error("Error fetching token operations:",a),a}},c=async e=>{try{return(await(0,s.M$)("".concat(a.$Q,"/token/detail/").concat(e))).result}catch(t){throw console.error("Error fetching detailed token information:",t),t}}},3202:(e,t,r)=>{r.d(t,{x:()=>s});const s=e=>({NIGGA:"N***A",NIGGAS:"N****S",NIGGER:"N****R",RETARD:"R****D",FAG:"F**",FAGS:"F**S",FAGGOT:"F****T",DYKE:"D**E",DYKES:"D**ES",TRANNY:"T****Y",SPIC:"S**C",SPICS:"S**CS",KIKE:"K**E",KIKES:"K***S",CHINK:"C***K",CHINKS:"C***KS",GOOK:"G**K",GOOKS:"G**KS",WOP:"W**",WOPS:"W**S",TARD:"T**D"}[e]||e)}}]);
//# sourceMappingURL=342.73ee6058.chunk.js.map