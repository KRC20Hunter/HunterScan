"use strict";(self.webpackChunkkatscan=self.webpackChunkkatscan||[]).push([[682],{6682:(e,t,s)=>{s.r(t),s.d(t,{TokenBalance:()=>v,default:()=>g});var a=s(9379),n=s(5043),l=s(3216),r=s(3519),c=s(4196),o=s(184),i=s(3202),d=s(4179),h=s(7812),x=s(8628),u=(s(3341),s(579));const j=e=>{let{transactions:t,openExplorer:s,formatNumber:a,shortenString:n}=e;return(0,u.jsx)("div",{className:"mobile-table",children:t.map((e=>(0,u.jsx)(x.A,{className:"mb-3",children:(0,u.jsx)(x.A.Body,{children:(0,u.jsxs)("div",{className:"mobile-table-row",onClick:()=>s(e.transaction_id),children:[(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Transaction ID:"}),n(e.transaction_id)]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Amount (KAS):"}),a(e.outputs.reduce(((e,t)=>e+parseInt(t.amount)),0)/1e8)]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Block Time:"})," ",new Date(e.block_time).toLocaleString()]})]})})},e.transaction_id)))})},p=e=>{let{transactions:t,loadingTransactions:s,loadMore:a,hasMoreTransactions:l}=e;const{isMobile:r}=(0,h.Iu)(),o=(0,n.useRef)(),i=(0,n.useCallback)((e=>{s||(o.current&&o.current.disconnect(),o.current=new IntersectionObserver((e=>{e[0].isIntersecting&&l&&a()})),e&&o.current.observe(e))}),[s,l,a]);return(0,u.jsxs)("div",{className:"table-wrapper",children:[r?(0,u.jsx)(j,{transactions:t,openExplorer:d.L,formatNumber:d.ZV,shortenString:d.l1}):(0,u.jsxs)(c.A,{striped:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Transaction ID"}),(0,u.jsx)("th",{children:"Amount (KAS)"}),(0,u.jsx)("th",{children:"Block Time"})]})}),(0,u.jsx)("tbody",{children:t.map(((e,s)=>(0,u.jsxs)("tr",{ref:s===t.length-1?i:null,onClick:()=>(0,d.L)(e.transaction_id),className:"clickable-row",children:[(0,u.jsx)("td",{children:e.transaction_id}),(0,u.jsx)("td",{children:(0,d.ZV)(e.outputs.reduce(((e,t)=>e+parseInt(t.amount)),0)/1e8)}),(0,u.jsx)("td",{children:new Date(e.block_time).toLocaleString()})]},e.transaction_id)))})]}),s&&(0,u.jsx)("div",{className:"loading-message",children:"Loading more transactions..."})]})},m=e=>{let{utxos:t,openExplorer:s,formatNumber:a,shortenString:n}=e;return(0,u.jsx)("div",{className:"mobile-table",children:t.map((e=>(0,u.jsx)(x.A,{className:"mb-3",children:(0,u.jsx)(x.A.Body,{children:(0,u.jsxs)("div",{className:"mobile-table-row",onClick:()=>s(e.outpoint.transactionId),children:[(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Transaction ID:"})," ",n(e.outpoint.transactionId)]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Index:"})," ",e.outpoint.index]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Amount (KAS):"})," ",a(parseInt(e.utxoEntry.amount)/1e8)]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Block DAA Score:"})," ",e.utxoEntry.blockDaaScore]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Miner Reward:"})," ",e.utxoEntry.isCoinbase?"Yes":"No"]}),(0,u.jsxs)("div",{className:"mobile-table-cell",children:[(0,u.jsx)("strong",{children:"Status:"})," Unspent"]})]})})},"".concat(e.outpoint.transactionId,"-").concat(e.outpoint.index))))})},b=e=>{let{utxos:t,hasMoreUtxos:s,loadingUtxos:a,loadMore:l}=e;const{isMobile:r}=(0,h.Iu)(),o=(0,n.useRef)(),i=(0,n.useCallback)((e=>{a||(o.current&&o.current.disconnect(),o.current=new IntersectionObserver((e=>{e[0].isIntersecting&&s&&l()})),e&&o.current.observe(e))}),[a,s,l]);return(0,u.jsxs)("div",{className:"table-wrapper",children:[r?(0,u.jsx)(m,{utxos:t,openExplorer:d.L,formatNumber:d.ZV,shortenString:d.l1}):(0,u.jsxs)(c.A,{striped:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Transaction ID"}),(0,u.jsx)("th",{children:"Index"}),(0,u.jsx)("th",{children:"Amount (KAS)"}),(0,u.jsx)("th",{children:"Block DAA Score"}),(0,u.jsx)("th",{children:"Miner Reward"}),(0,u.jsx)("th",{children:"Status"})]})}),(0,u.jsx)("tbody",{children:t.map(((e,s)=>(0,u.jsxs)("tr",{ref:s===t.length-1?i:null,onClick:()=>(0,d.L)(e.outpoint.transactionId),className:"clickable-row",children:[(0,u.jsx)("td",{children:e.outpoint.transactionId}),(0,u.jsx)("td",{children:e.outpoint.index}),(0,u.jsx)("td",{children:(0,d.ZV)(parseInt(e.utxoEntry.amount)/1e8)}),(0,u.jsx)("td",{children:e.utxoEntry.blockDaaScore}),(0,u.jsx)("td",{children:e.utxoEntry.isCoinbase?"Yes":"No"}),(0,u.jsx)("td",{children:"Unspent"})]},"".concat(e.outpoint.transactionId,"-").concat(e.outpoint.index))))})]}),a&&(0,u.jsx)("div",{className:"loading-message",children:"Loading more UTXOs..."})]})};var k=s(6502);const S=["General Info","Additional Info"],g=()=>{const{walletAddress:e}=(0,l.g)(),t=(0,l.Zp)(),{isMobile:s}=(0,h.Iu)(),[c,o]=(0,n.useState)(null!==e&&void 0!==e?e:""),[i,d]=(0,n.useState)(!1),x=((e,t)=>{const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(0),[c,o]=(0,n.useState)(!0),[i,d]=(0,n.useState)(!1),x=(0,n.useCallback)((async(e,t)=>{d(!0);try{const s=await(0,h.M$)("https://api.kaspa.org/addresses/".concat(e,"/full-transactions?limit=20&offset=").concat(20*t,"&resolve_previous_outpoints=light"));return r(t+1),o(20===s.length),s}catch(s){return console.error("Failed to fetch transactions:",s),[]}finally{d(!1)}}),[]);(0,n.useEffect)((()=>{t&&e&&x(t,0).then(a)}),[t,x,e]);const u=(0,n.useCallback)((()=>{t&&c&&x(t,l).then((e=>{a((t=>[...t,...e]))}))}),[x,c,l,t]);return(0,n.useMemo)((()=>({transactions:s,transactionPage:l,loadingTransactions:i,loadMore:u,hasMoreTransactions:c})),[s,l,i,u,c])})(i,e),j=((e,t)=>{const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(0),[c,o]=(0,n.useState)(!0),[i,d]=(0,n.useState)(!1),x=(0,n.useCallback)((e=>{a((t=>{const s=new Set(t.map((e=>"".concat(e.outpoint.transactionId,"-").concat(e.outpoint.index)))),a=e.filter((e=>!s.has("".concat(e.outpoint.transactionId,"-").concat(e.outpoint.index))));return[...t,...a]}))}),[]),u=(0,n.useCallback)((async(e,t)=>{d(!0);try{const s=await(0,h.M$)("https://api.kaspa.org/addresses/".concat(e,"/utxos?limit=20&offset=").concat(20*t));return r(t+1),o(20===s.length),s}catch(s){return console.error("Failed to fetch UTXOs:",s),[]}finally{d(!1)}}),[]);(0,n.useEffect)((()=>{t&&e&&u(t,0).then(a)}),[e,u,t]);const j=(0,n.useCallback)((()=>{t&&c&&u(t,l).then(x)}),[u,c,x,l,t]);return(0,n.useMemo)((()=>({utxos:s,utxoPage:l,hasMoreUtxos:c,loadingUtxos:i,loadMore:j})),[c,j,i,l,s])})(i,e),[m,g]=(0,n.useState)(null),[w,A]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e&&(0,h.M$)("https://api.kaspa.org/addresses/".concat(e,"/balance")).then((t=>{A(!0),o(e),d(!0),Promise.all([(0,h.M$)("https://api.kasplex.org/v1/krc20/address/".concat(e,"/tokenlist")),(0,h.M$)("https://api.kaspa.org/addresses/".concat(e,"/transactions-count"))]).then((s=>{let[n,l]=s;const r=n.result.map((e=>(0,a.A)((0,a.A)({},e),{},{balance:e.balance/Math.pow(10,e.dec)})));g({address:e,krc20Balances:r,kaspaBalance:t.balance,transactionCount:l.total})})).catch((()=>{(0,k.I)("error","Failed to fetch wallet data. Please try again.")})).finally((()=>{A(!1)}))})).catch((()=>{(0,k.I)("error","Failed to fetch wallet data. Is the wallet address correct?"),A(!1),d(!1)}))}),[e]);return(0,u.jsx)(h.YW,{header:"Wallet Lookup",children:(0,u.jsxs)(r.A,{className:"wallet-lookup",children:[(0,u.jsx)(h.kW,{title:"Wallet Lookup",description:"Look up KRC-20 token balances and transaction history for any wallet address on the Kaspa blockchain.",keywords:"KRC-20, Kaspa, wallet lookup, token balances, transaction history"}),(0,u.jsx)(h.Zn,{data:{"@context":"https://schema.org","@type":"WebApplication",name:"KatScan Wallet Lookup",description:"Look up KRC-20 token balances and transaction history for any wallet address on the Kaspa blockchain.",url:"https://katscan.xyz/wallet"}}),(0,u.jsx)(h.pd,{customClass:"mb-3",onSubmit:e=>{e&&t("/wallet/".concat(e))},value:c,placeholder:"Enter wallet address",onChangeCallback:o}),w&&(0,u.jsx)(h.kt,{}),m&&(0,u.jsx)("div",{className:"wallet-details",children:s?(0,u.jsxs)(h.QE,{titles:S,children:[(0,u.jsx)(N,{walletData:m}),(0,u.jsxs)(h.QE,{titles:["KRC20 Tokens","Recent Transactions","UTXOs"],children:[(0,u.jsx)(v,{walletData:m}),(0,u.jsx)(p,(0,a.A)({},x)),(0,u.jsx)(b,(0,a.A)({},j))]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(N,{walletData:m}),(0,u.jsxs)(h.QE,{titles:["KRC20 Tokens","Recent Transactions","UTXOs"],children:[(0,u.jsx)(v,{walletData:m}),(0,u.jsx)(p,(0,a.A)({},x)),(0,u.jsx)(b,(0,a.A)({},j))]})]})})]})})},N=e=>{let{walletData:t}=e;return(0,u.jsx)("div",{className:"wallet-overview",children:(0,u.jsx)(h.gJ,{title:"Wallet Overview",children:(0,u.jsxs)("div",{className:"grid",children:[(0,u.jsx)("strong",{children:"Address:"}),(0,u.jsxs)("div",{children:[t.address,(0,u.jsx)(o.paH,{className:"clickable",onClick:()=>(0,d.lW)(t.address)})]}),(0,u.jsx)("strong",{children:"Kaspa Balance:"}),(0,u.jsxs)("div",{children:[(0,d.ZV)(t.kaspaBalance/1e8)," KAS"]}),(0,u.jsx)("strong",{children:"Transaction Count:"})," ",t.transactionCount]})})})},v=e=>{let{walletData:t}=e;return(0,u.jsx)("div",{className:"table-wrapper",children:(0,u.jsxs)(c.A,{striped:!0,bordered:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Token"}),(0,u.jsx)("th",{children:"Balance"})]})}),(0,u.jsx)("tbody",{children:t.krc20Balances.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,i.x)(e.tick)}),(0,u.jsx)("td",{children:(0,d.ZV)(e.balance)})]},e.tick)))})]})})}},3202:(e,t,s)=>{s.d(t,{x:()=>a});const a=e=>({NIGGA:"N***A",NIGGAS:"N****S",NIGGER:"N****R",RETARD:"R****D",FAG:"F**",FAGS:"F**S",FAGGOT:"F****T",DYKE:"D**E",DYKES:"D**ES",TRANNY:"T****Y",SPIC:"S**C",SPICS:"S**CS",KIKE:"K**E",KIKES:"K***S",CHINK:"C***K",CHINKS:"C***KS",GOOK:"G**K",GOOKS:"G**KS",WOP:"W**",WOPS:"W**S",TARD:"T**D"}[e]||e)},3341:()=>{}}]);
//# sourceMappingURL=682.78d03b25.chunk.js.map